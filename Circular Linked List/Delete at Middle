#include<stdio.h> 
#include<stdlib.h> 
struct node 
{ 
    int data; 
    struct node*next; 
}; 
struct node*head,*new,*temp,*last=NULL; 
struct node*getnode(int x) 
{ 
    struct node*temp=(struct node*)malloc(sizeof(struct node)); 
    temp->data=x; 
    temp->next=NULL; 
    return temp; 
} 
void display() 
{ 
    if(head==NULL) 
    { 
     printf("list is empty\n"); 
    } 
    else 
    { 
        temp=head; 
        do 
        { 
            printf("%d->",temp->data); 
            temp=temp->next; 
        } 
        while(temp!=head); 
        printf("head"); 
    } 
} 
void delete_middle(int val) 
{ 
    if(head==NULL) 
    { 
        printf("list is empty\n"); 
    } 
    temp=head; 
    struct node *temp1=NULL; 
    while(temp->data!=val) 
    { 
        if(temp->next==head) 
        { 
            printf("node%not found\n",val); 
        } 
        temp1=temp; 
        temp=temp->next; 
    } 
    if(temp==head||temp->next==head) 
    { 
        printf("node value%d is not a middle node value",val); 
    } 
    temp1->next=temp->next; 
    free(temp); 
} 
int main() 
{ 
    int n,x,i,val; 
    printf("enter no.of nodes:"); 
    scanf("%d",&n); 
    for(i=0;i<n;i++) 
    { 
        printf("enter data value in %d node:",i+1); 
        scanf("%d",&x); 
        new=getnode(x); 
        if(head==NULL) 
        { 
            head=new; 
            last->next=head; 
        } 
        else 
        { 
            temp=head; 
            while(temp->next!=head) 
            { 
                temp=temp->next; 
            } 
            temp->next=new; 
            last=new; 
            last->next=head; 
        } 
    } 
    printf("Enter the value to delete at middle:\n"); 
    scanf("%d",&val); 
    printf("The list after deletion:"); 
    delete_middle(val); 
    display(); 
    return 0; 
} 
